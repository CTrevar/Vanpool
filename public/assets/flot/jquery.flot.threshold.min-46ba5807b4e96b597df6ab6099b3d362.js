!function(t){function e(e){function n(e,n,i,o,r){var a,s,l,c,u,h=i.pointsize,d=t.extend({},n);d.datapoints={points:[],pointsize:h,format:i.format},d.label=null,d.color=r,d.threshold=null,d.originSeries=n,d.data=[];var f,p=i.points,g=n.lines.show,m=[],v=[];for(a=0;a<p.length;a+=h){if(s=p[a],l=p[a+1],u=c,c=o>l?m:v,g&&u!=c&&null!=s&&a>0&&null!=p[a-h]){var y=s+(o-l)*(s-p[a-h])/(l-p[a-h+1]);for(u.push(y),u.push(o),f=2;h>f;++f)u.push(p[a+f]);for(c.push(null),c.push(null),f=2;h>f;++f)c.push(p[a+f]);for(c.push(y),c.push(o),f=2;h>f;++f)c.push(p[a+f])}for(c.push(s),c.push(l),f=2;h>f;++f)c.push(p[a+f])}if(i.points=v,d.datapoints.points=m,d.datapoints.points.length>0){var x=t.inArray(n,e.getData());e.getData().splice(x+1,0,d)}}function i(e,i,o){i.threshold&&(i.threshold instanceof Array?(i.threshold.sort(function(t,e){return t.below-e.below}),t(i.threshold).each(function(t,r){n(e,i,o,r.below,r.color)})):n(e,i,o,i.threshold.below,i.threshold.color))}e.hooks.processDatapoints.push(i)}var n={series:{threshold:null}};t.plot.plugins.push({init:e,options:n,name:"threshold",version:"1.2"})}(jQuery);